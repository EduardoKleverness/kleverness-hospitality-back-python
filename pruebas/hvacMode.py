import requests

url = "https://api.sb.ecobee.com/api/v1/thermostats/521755031179/hvacMode"

payload = {"hvacMode": "heat"}
headers = {
    "Accept": "application/json",
    "Content-Type": "application/json",
    "Authorization": "Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6Ik56QkZRVGM1TlRWRU1qVTVOak5GTXpVek5rUkRRems1TVRFME1VWTNOVUV3TmtVek1EQTJOQSJ9.eyJodHRwczovL2FwaS5zYi5lY29iZWUuY29tL3NtYXJ0YnVpbGRpbmdzLWNvbXBhbnkiOiI1ZjYwYzUyZjI0OGY3MjAwMzA5YThlMDgiLCJpc3MiOiJodHRwczovL2Vjb2JlZS1zYi1kZXYuYXV0aDAuY29tLyIsInN1YiI6IjQ2dWFlcFdST2tKWlRlbjh0U1h4YjE5RWVjVm9XTmlQQGNsaWVudHMiLCJhdWQiOiJodHRwczovL2FwaS5zYi5lY29iZWUuY29tIiwiaWF0IjoxNjAzNDg3NzQyLCJleHAiOjE2MDM0OTQ5NDIsImF6cCI6IjQ2dWFlcFdST2tKWlRlbjh0U1h4YjE5RWVjVm9XTmlQIiwic2NvcGUiOiJyZWFkOnRoZXJtb3N0YXQgcmVhZDp0aGVybW9zdGF0cyBjcmVhdGU6YnVpbGRpbmcgY3JlYXRlOnRoZXJtb3N0YXQgcmVhZDpidWlsZGluZyByZWFkOmJ1aWxkaW5ncyB3cml0ZTp0aGVybW9zdGF0IHdyaXRlOmJ1aWxkaW5nIHdyaXRlOnRlbmFudG1vZGUgZGVsZXRlOnRoZXJtb3N0YXQgZGVsZXRlOmJ1aWxkaW5nIiwiZ3R5IjoiY2xpZW50LWNyZWRlbnRpYWxzIn0.j5IWJ8Ai_8-rf28DuU-jn_tYMiDVkA3zV-sK5vEKjyd0gqjCJdYG3iTNmJ74KyGBcVLN0iPHZ4BsGw7cUuKJHaOUQgm06a_PvfJKmfwhaB1ndyfcrUbDcXGt3HzhEkv4LXnHsyw-U2Bat6O4yYtkuFv7II9Ea4jnJPqufbqM38VoxaKh9zajCxuBI3N1icsIaIxOGDLhcr9i2pIimwF5OYnydQfhd1nVId52yN53p6WolRrqsHy_rraMCu8YuWSg7HZuBfmgKsPcnZj4FgrS8IMpJECiwVuDW9LPKk8r0n3Ml8TRWYFlfXwLpgNWPDnlG1Dt-_NH0PY4wVyLlTTLSw"
}

response = requests.request("PATCH", url, json=payload, headers=headers)

print(response.text)
